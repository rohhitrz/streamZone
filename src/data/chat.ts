import { ChatMessage } from '../types';
import { v4 as uuidv4 } from 'uuid';

// Helper function to generate a timestamp within the last 5 minutes
const getRecentTimestamp = (secondsAgo: number = 0): string => {
  const date = new Date(Date.now() - secondsAgo * 1000);
  return date.toISOString();
};

export const initialChatMessages: ChatMessage[] = [
  {
    id: uuidv4(),
    userId: '1',
    username: 'ninja',
    displayName: 'Ninja',
    avatar: '/avatars/ninja.jpg',
    message: 'Hey everyone, welcome to the stream!',
    timestamp: getRecentTimestamp(300),
    isStreamer: true,
    isModerator: false,
    isSubscriber: false,
  },
  {
    id: uuidv4(),
    userId: '101',
    username: 'gamerguy99',
    displayName: 'GamerGuy99',
    avatar: '/avatars/default.jpg',
    message: 'First in chat! Let\'s go!',
    timestamp: getRecentTimestamp(280),
    isStreamer: false,
    isModerator: false,
    isSubscriber: true,
  },
  {
    id: uuidv4(),
    userId: '102',
    username: 'twitchmod',
    displayName: 'TwitchMod',
    avatar: '/avatars/default.jpg',
    message: 'Remember to follow the chat rules everyone',
    timestamp: getRecentTimestamp(260),
    isStreamer: false,
    isModerator: true,
    isSubscriber: true,
  },
  {
    id: uuidv4(),
    userId: '103',
    username: 'streamfan',
    displayName: 'StreamFan',
    avatar: '/avatars/default.jpg',
    message: 'I\'ve been waiting for this stream all day!',
    timestamp: getRecentTimestamp(240),
    isStreamer: false,
    isModerator: false,
    isSubscriber: false,
  },
  {
    id: uuidv4(),
    userId: '104',
    username: 'epicgamer',
    displayName: 'EpicGamer',
    avatar: '/avatars/default.jpg',
    message: 'Can you play Fortnite next?',
    timestamp: getRecentTimestamp(220),
    isStreamer: false,
    isModerator: false,
    isSubscriber: true,
  },
  {
    id: uuidv4(),
    userId: '105',
    username: 'chatbot',
    displayName: 'ChatBot',
    avatar: '/avatars/default.jpg',
    message: 'Don\'t forget to follow and subscribe!',
    timestamp: getRecentTimestamp(200),
    isStreamer: false,
    isModerator: true,
    isSubscriber: false,
  },
  {
    id: uuidv4(),
    userId: '106',
    username: 'newviewer',
    displayName: 'NewViewer',
    avatar: '/avatars/default.jpg',
    message: 'First time watching, this is amazing!',
    timestamp: getRecentTimestamp(180),
    isStreamer: false,
    isModerator: false,
    isSubscriber: false,
  },
  {
    id: uuidv4(),
    userId: '107',
    username: 'longtime_sub',
    displayName: 'LongTime_Sub',
    avatar: '/avatars/default.jpg',
    message: 'Subbed for 24 months now!',
    timestamp: getRecentTimestamp(160),
    isStreamer: false,
    isModerator: false,
    isSubscriber: true,
  },
  {
    id: uuidv4(),
    userId: '108',
    username: 'twitchprime',
    displayName: 'TwitchPrime',
    avatar: '/avatars/default.jpg',
    message: 'Just used my Prime sub!',
    timestamp: getRecentTimestamp(140),
    isStreamer: false,
    isModerator: false,
    isSubscriber: true,
  },
  {
    id: uuidv4(),
    userId: '109',
    username: 'donator',
    displayName: 'Donator',
    avatar: '/avatars/default.jpg',
    message: 'Here\'s a donation to support the stream!',
    timestamp: getRecentTimestamp(120),
    isStreamer: false,
    isModerator: false,
    isSubscriber: true,
  },
  {
    id: uuidv4(),
    userId: '110',
    username: 'lurker',
    displayName: 'Lurker',
    avatar: '/avatars/default.jpg',
    message: 'Been lurking for hours, great content!',
    timestamp: getRecentTimestamp(100),
    isStreamer: false,
    isModerator: false,
    isSubscriber: false,
  },
  {
    id: uuidv4(),
    userId: '111',
    username: 'meme_lord',
    displayName: 'Meme_Lord',
    avatar: '/avatars/default.jpg',
    message: 'LUL LUL LUL',
    timestamp: getRecentTimestamp(80),
    isStreamer: false,
    isModerator: false,
    isSubscriber: true,
  },
  {
    id: uuidv4(),
    userId: '112',
    username: 'clip_it',
    displayName: 'Clip_It',
    avatar: '/avatars/default.jpg',
    message: 'Someone clip that!',
    timestamp: getRecentTimestamp(60),
    isStreamer: false,
    isModerator: false,
    isSubscriber: false,
  },
  {
    id: uuidv4(),
    userId: '113',
    username: 'hype_train',
    displayName: 'Hype_Train',
    avatar: '/avatars/default.jpg',
    message: 'Hype train level 5 LET\'S GO!',
    timestamp: getRecentTimestamp(40),
    isStreamer: false,
    isModerator: false,
    isSubscriber: true,
  },
  {
    id: uuidv4(),
    userId: '1',
    username: 'ninja',
    displayName: 'Ninja',
    avatar: '/avatars/ninja.jpg',
    message: 'Thanks everyone for all the support!',
    timestamp: getRecentTimestamp(20),
    isStreamer: true,
    isModerator: false,
    isSubscriber: false,
  },
];

// Messages that can be randomly added to simulate chat activity
export const randomChatMessages: string[] = [
  'Let\'s go!',
  'PogChamp',
  'Hi everyone!',
  'Great stream today',
  'That was amazing!',
  'LOL',
  'LUL',
  'Kappa',
  'Can you play {game} next?',
  'How long have you been streaming?',
  'Greetings from {country}!',
  'Can I get a shoutout?',
  'This is the best stream!',
  'How do you get so good?',
  'What settings do you use?',
  'What\'s your favorite game?',
  'Are you going to stream tomorrow?',
  'I just subscribed!',
  'Followed!',
  'That was insane!',
  'Clutch play!',
  'What\'s your setup?',
  'I love your content',
  'Will you be at TwitchCon?',
  'Do you have merch?',
  'What\'s your schedule?',
  'GG!',
  'Well played!',
  'That was close!',
  'I can\'t believe that just happened!',
];

// Random usernames to simulate new chat activity
export const randomUsernames: { username: string; displayName: string; isSubscriber: boolean; isModerator: boolean }[] = [
  { username: 'gamer123', displayName: 'Gamer123', isSubscriber: false, isModerator: false },
  { username: 'streamlover', displayName: 'StreamLover', isSubscriber: true, isModerator: false },
  { username: 'twitchfan', displayName: 'TwitchFan', isSubscriber: false, isModerator: false },
  { username: 'pogchamp', displayName: 'PogChamp', isSubscriber: true, isModerator: false },
  { username: 'kappapride', displayName: 'KappaPride', isSubscriber: true, isModerator: false },
  { username: 'lurker99', displayName: 'Lurker99', isSubscriber: false, isModerator: false },
  { username: 'subscriber_main', displayName: 'Subscriber_Main', isSubscriber: true, isModerator: false },
  { username: 'mod_helper', displayName: 'Mod_Helper', isSubscriber: true, isModerator: true },
  { username: 'esports_fan', displayName: 'Esports_Fan', isSubscriber: false, isModerator: false },
  { username: 'gaming_legend', displayName: 'Gaming_Legend', isSubscriber: true, isModerator: false },
  { username: 'first_time_chatter', displayName: 'First_Time_Chatter', isSubscriber: false, isModerator: false },
  { username: 'daily_viewer', displayName: 'Daily_Viewer', isSubscriber: true, isModerator: false },
  { username: 'meme_master', displayName: 'Meme_Master', isSubscriber: true, isModerator: false },
  { username: 'clip_champion', displayName: 'Clip_Champion', isSubscriber: false, isModerator: false },
  { username: 'emote_only', displayName: 'Emote_Only', isSubscriber: true, isModerator: false },
  { username: 'chat_regular', displayName: 'Chat_Regular', isSubscriber: true, isModerator: false },
  { username: 'nightbot', displayName: 'NightBot', isSubscriber: false, isModerator: true },
  { username: 'stream_elements', displayName: 'StreamElements', isSubscriber: false, isModerator: true },
  { username: 'prime_gamer', displayName: 'Prime_Gamer', isSubscriber: true, isModerator: false },
  { username: 'new_follower', displayName: 'New_Follower', isSubscriber: false, isModerator: false },
];

// Generate a random chat message
export const generateRandomChatMessage = (): ChatMessage => {
  const randomUser = randomUsernames[Math.floor(Math.random() * randomUsernames.length)];
  const randomMessage = randomChatMessages[Math.floor(Math.random() * randomChatMessages.length)]
    .replace('{game}', ['Fortnite', 'Valorant', 'Apex Legends', 'Minecraft', 'Call of Duty'][Math.floor(Math.random() * 5)])
    .replace('{country}', ['USA', 'Germany', 'UK', 'Canada', 'Australia', 'Brazil', 'Japan'][Math.floor(Math.random() * 7)]);

  return {
    id: uuidv4(),
    userId: uuidv4(),
    username: randomUser.username,
    displayName: randomUser.displayName,
    avatar: '/avatars/default.jpg',
    message: randomMessage,
    timestamp: new Date().toISOString(),
    isStreamer: false,
    isModerator: randomUser.isModerator,
    isSubscriber: randomUser.isSubscriber,
  };
}; 